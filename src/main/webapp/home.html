<!doctype html>
<html lang="en">
  <head>
    <title>car-management-app</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400&display=swap" rel="stylesheet"> 
    <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <link rel="stylesheet" href="styles/style.css">

    <script src="js/jquery-1.12.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="js/main.js"></script>

  </head>
  <body>
    <!-- Header starts -->
    <header class="bg-light" id="header">
      <div class="container">
        <nav class="navbar navbar-expand-lg navbar-light bg-light justify-content-md-between pt-1 pb-1 px-0">
          <i class="fas fa-car-side mr-1" style="font-size: 100px; color: rgb(104, 136, 75);"></i>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse flex-grow-0" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
              <li class="nav-item">
                <a class="nav-link" href="home.html">Главна страница</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="vehicle.html">Вашите автомобили</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="logoutBtn" style="cursor: pointer;">Изход</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="profil.html" id="userNameShow">username</a> <!--трябва да съдържа име на потребителя-->
              </li>
            </ul>
          </div>
        </nav>
      </div>  
    </header>
    <!-- Header ends -->
    <!-- Warning panel starts -->
    <div class="container mt-2" style="display: show;"> <!--Трябва да се скрива, ако няма предстоящо събитие-->
      <div class="row bg-light d-flex justify-content-center px-2">
        <h2>Гражданската ви изтича на:</h2>
        <h2> 12.01.2020</h2>
      </div>
    </div>
    <!-- Warning panel ends -->
    <!-- Car panel -->
    <div class="container mt-2">
      <div class="row bg-light d-flex align-items-center">
        <div class="col-md-3 mt-2">
          <label for="chooseCar"><h3>Изберете автомобил:</h3></label>
        </div>
        <div class="col-md-3">
          <select id="chooseCar" class="form-control" style="cursor: pointer;">
            <option value="" id="optionClone">Вашите автомобили</option> <!--на value добавям рег номера на всяка кола/или марка модел-->
          </select>
        </div>
        <div class="col-md-3">
          <select id="chooseTable" class="form-control" style="cursor: pointer;">
            <option value="overal" id="overal">Обща</option>
            <option value="consumption" id="consumption">Разход на гориво</option>
            <option value="cost" id="cost">Такси и ремонти</option>
          </select>
        </div>
        <div class="col-md-3 my-2 d-flex justify-content-between">
          <button type="button" class="btn btn-success" id="reference">Справка</button>
          <button type="button" class="btn btn-success mx-1" id="consumptionModalBtn">Гориво</button>
          <button type="button" class="btn btn-success" id="costsModalBtn">Такса</button>
        </div>
      </div>
      <!-- Overal references -->
      <div class="row bg-light d-flex align-items-center" style="font-size:large;">
        <div class="col-md-3 mt-3">
          <div class="row ml-1">
            <label for="carBrand">Автомобил:</label>
            <p id="carBrand" class="mx-1">Peugeot <p id="carModel">307CC</p></p>
          </div>
        </div>
        <div class="col-md-3 mt-3">
          <div class="row">
            <label for="overalConsumptionCost">Разходи за гориво:</label>
            <p class="mx-1" id="overalConsumptionCost">2500 <p>лв</p></p>
          </div>
        </div>
        <div class="col-md-3 mt-3">
          <div class="row">
            <label for="overalTaxesPrice">Други разходи:</label>
            <p class="mx-1" id="overalTaxesPrice">2500 <p>лв</p></p>
          </div>        
        </div>
        <div class="col-md-3 mt-3">
          <div class="row">
            <label for="overalCosts">Общи разходи:</label>
            <p class="mx-1" id="overalCosts">2500 <p>лв</p></p>
          </div>        
        </div>
      </div>
    </div>
    <!-- Tables references -->
    <div class="container mt-2">
      <div class="row bg-light rounded p-3">
        <div class="col">
          <div class="basic-panel">
            <h3 id="lastRefuelHeader">Справки:</h3> <!--ще се смения според избраната сортировка, по дефолт това-->
          </div>
        </div>
      </div>
      <div class="row bg-light rounded p-3">
        <div class="col-md-12">
          <div class="row">
            <div class="col-md-12">
              <!-- Table consumption starts -->
              <table class="table table-hover" style="display: show;" id="consumptionTable"> <!--ще се показва при избор на гориво-->
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Автомобил</th>
                    <th scope="col">Регистрационен номер</th>
                    <th scope="col">Количество заредено гориво</th>
                    <th scope="col">Цена за литър</th>
                    <th scope="col">Изминато разстояние</th>
                    <th scope="col">Среден разход на гориво</th>
                    <th scope="col">Обща стойност</th>
                  </tr>
                </thead>
                <tbody id="itemsList">
                  <tr id="cloneListItem" cursor: default;">
                    <td class="control" tabindex="" style="display: none;"></td>
                    <td id="number">1</td>
                    <td id="carBrand">Peugeot</td>
                    <td id="licensePlate">PB1694XM</td>
                    <td id="quantity">45 <span>lt</span></td>
                    <td id="costPerLiter">1.83 <span>лв</span></td>
                    <td id="mileage">620 <span>km</span></td>
                    <td id="avgConsumpion">6.6 <span>l/100km</span></td>
                    <td id="overalCost">98.67 <span>лв</span></td>
                  </tr>
                </tbody>
              </table>
              <!-- Table consumption ends -->
              <!-- Table costs starts -->
              <table class="table table-hover" style="display: show;" id="costsTable"> <!--ще се показва при избор на разходи-->
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Автомобил</th>
                    <th scope="col">Регистрационен номер</th>
                    <th scope="col">Вид на разхода</th>
                    <th scope="col">Сума</th>
                    <th scope="col">Дата</th>
                    <th scope="col">Описание</th>
                  </tr>
                </thead>
                <tbody id="itemsList">
                  <tr id="cloneListItem" cursor: default;">
                    <td class="control" tabindex="" style="display: none;"></td>
                    <td id="number">1</td>
                    <td id="carBrand">Peugeot</td>
                    <td id="licensePlate">PB1694XM</td>
                    <td id="typeOfTax">ремонт</td>
                    <td id="price">154 <span>лв</span></td>
                    <td id="date">14.01.2021</td>
                    <td><textarea class="form-control" id="description" rows="3"></textarea></td>
                  </tr>
                </tbody>
              </table>
              <!-- Table costs ends -->
            </div>
          </div>
        </div>          
      </div>
    </div>
    <!-- consumption modal starts -->
    <div class="modal fade" id="consumptionModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header" style="background-color: rgb(240, 240, 240);">
            <h5 class="modal-title" id="exampleModalCenterTitle">Добавете последно зареждане</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body bg-light">
            <form id="consumptionForm">
              <div class="form-group">
                <input type="text" class="form-control" id="addQuantity" name="quantity" placeholder="Количество гориво">
              </div>
              <div class="form-group">
                <input type="text" class="form-control" id="addPricePerLiter" name="pricePerLiter" placeholder="Цена за литър">
              </div>
              <div class="form-group">
                <input type="number" class="form-control" id="addLastMileage" name="lastMileage" placeholder="Километри">
              </div>
            </form>
          </div>
          <div class="modal-footer" style="background-color: rgb(240, 240, 240);">
            <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Затвори</button> -->
            <button type="submit" class="btn btn-success" id="addConsumption">Зареди</button>
          </div>
        </div>
      </div>
    </div>
    <!-- consumpton modal ends -->
    <!-- cost modal starts -->
    <div class="modal fade" id="costModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header" style="background-color: rgb(240, 240, 240);">
            <h5 class="modal-title" id="exampleModalCenterTitle">Добавете нов разход</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body bg-light">
            <form id="costForm">
              <div class="form-group">
                <select id="chooseCostType" class="form-control" style="cursor: pointer;">
                  <option value="concumption" id="consumption">Ремонт</option>
                  <option value="cost" id="cost">Застраховка</option>
                  <option value="overal" id="overal">Данък</option>
                  <option value="overal" id="overal">Годишен преглед</option>
                </select>
              </div>
              <div class="form-group">
                <input type="number" class="form-control" id="addPrice" name="pricePerLiter" placeholder="Стойност">
              </div>
              <div class="form-group">
                <input type="text" class="form-control" id="addDate" name="lastMileage" placeholder="Дата">
              </div>
              <div class="form-group">
                <textarea class="form-control" id="addDescription" rows="3" name="description" placeholder="Описание"></textarea>
              </div>
            </form>
          </div>
          <div class="modal-footer" style="background-color: rgb(240, 240, 240);">
            <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Затвори</button> -->
            <button type="submit" class="btn btn-success" id="addCost">Добави</button>
          </div>
        </div>
      </div>
    </div>
    <!-- cost modal ends -->

    <script>
          getVehicles("home.html");

          $('#consumptionModalBtn').click(function(){
            $('#consumptionModal').modal('show');
          });

          $('#costsModalBtn').click(function(){
            $('#costModal').modal('show');
          });

          function initVehicleList(vehiclesData){
            var option = $('#optionClone').clone();
            option.attr('value', vehiclesData.id);
            option.text(vehiclesData.licensePlate);
            
            $('#chooseCar').append(option);
          }
    </script>
    <script src="js/main.js"></script>
  </body> 
</html>